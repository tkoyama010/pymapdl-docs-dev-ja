
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/gallery_examples/00-mapdl-examples/spotweld.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_gallery_examples_00-mapdl-examples_spotweld.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_gallery_examples_00-mapdl-examples_spotweld.py:


.. _ref_spotweld:

Running an input file - spotweld SHELL181 example
=================================================

This MAPDL example demonstrates how to model spot welding on three
thin sheets of metal. Here, the full input file is simply run using
the PyMAPDL interface.

Using the following commands, you can directly use an APDL
script within a PyMAPDL session with the following
commands:

.. GENERATED FROM PYTHON SOURCE LINES 40-42

Script initialization
---------------------

.. GENERATED FROM PYTHON SOURCE LINES 42-48

.. code-block:: Python


    from ansys.mapdl.core import launch_mapdl
    from ansys.mapdl.core.examples.downloads import download_example_data

    mapdl = launch_mapdl()


.. GENERATED FROM PYTHON SOURCE LINES 49-51

Download and run an MAPDL script
--------------------------------

.. GENERATED FROM PYTHON SOURCE LINES 51-57

.. code-block:: Python


    spotweld_data = download_example_data(
        filename="spotweld.inp", directory="pymapdl/spotweld"
    )
    mapdl.input(spotweld_data)


.. GENERATED FROM PYTHON SOURCE LINES 58-60

Displacements
-------------

.. GENERATED FROM PYTHON SOURCE LINES 60-73

.. code-block:: Python


    # Enter post-processor
    mapdl.post1()

    # Plot the time step 1.
    mapdl.set(1, 1)
    mapdl.post_processing.plot_nodal_displacement(cmap="bwr")

    # Plot the time step 3.
    mapdl.set(1, 3)
    mapdl.post_processing.plot_nodal_displacement(cmap="bwr")



.. GENERATED FROM PYTHON SOURCE LINES 74-76

Stress
------

.. GENERATED FROM PYTHON SOURCE LINES 76-86

.. code-block:: Python


    # Get the nodal and element component stress at time step 1.
    mapdl.set(1, 1)
    nodal_stress = mapdl.post_processing.nodal_stress_intensity()
    print("Nodal stress : ", nodal_stress)

    # Plot the element stress.
    element_stress = mapdl.post_processing.element_stress("int")
    print("Element stress : ", element_stress)


.. GENERATED FROM PYTHON SOURCE LINES 87-90

The stress at the contact element simulating the spot weld.

Plot the nodal stress in the Z direction.

.. GENERATED FROM PYTHON SOURCE LINES 90-93

.. code-block:: Python

    mapdl.post_processing.plot_nodal_component_stress("z")



.. GENERATED FROM PYTHON SOURCE LINES 94-95

Get the cumulative equivalent stress and plot the von Mises stress.

.. GENERATED FROM PYTHON SOURCE LINES 95-100

.. code-block:: Python


    eqv_stress = mapdl.post_processing.nodal_eqv_stress()
    print("Cumulative equivalent stress : ", eqv_stress)
    mapdl.post_processing.plot_nodal_eqv_stress()


.. GENERATED FROM PYTHON SOURCE LINES 101-103

Stop MAPDL


.. GENERATED FROM PYTHON SOURCE LINES 103-105

.. code-block:: Python

    mapdl.finish()
    mapdl.exit()


.. _sphx_glr_download_examples_gallery_examples_00-mapdl-examples_spotweld.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: spotweld.ipynb <spotweld.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: spotweld.py <spotweld.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: spotweld.zip <spotweld.zip>`
